verbatim:
  cabal-version: 2.4

name: pirouette
version: 2.0.0
extra-source-files:
  - LICENSE
  - README.md

dependencies:
  - ansi-terminal
  - base >= 4.9 && < 5
  - data-default
  - mtl >= 2.2.2
  - interpolate
  - bytestring
  - containers
  - extra
  - text
  - prettyprinter
  - megaparsec
  - parser-combinators
  - uniplate
  - deriving-compat
  - template-haskell
  - tasty
  - tasty-hunit
  - tasty-quickcheck
  - tasty-expected-failure
  - QuickCheck
  - haskell-stack-trace-plugin
  - parallel
  - optics-core
  - optics-th
  # PureSMT deps
  - smtlib-backends
  - smtlib-backends-z3


library:
  source-dirs: src
  ghc-options:
    -Wall
    -Wno-orphans
  # Copied from https://hackage.haskell.org/package/z3-408.2/src/z3.cabal
  #
  # In OS X libz3 is linked statically against libgomp.
  # In Windows Z3 is compiled using MS C++.
  when:
    - condition: os(darwin) || os(windows)
      then:
        extra-libraries: z3
      else:
        extra-libraries: gomp z3 gomp


tests:
  spec:
    main: Spec.hs
    source-dirs:
      - tests/unit
    dependencies:
      - pirouette
    ghc-options:
      -threaded

## executables:
##   spec-prof:
##     main: Spec.hs
##     source-dirs:
##       - tests/unit
##     dependencies:
##       - pirouette
##     ghc-options:
##       -threaded
##       -fprof-auto
##       -fexternal-interpreter
##       "-with-rtsopts=-N -p -s -h"
